# 👻 鬼面 (TheGhostFace) v2.1

一个和威斯克的病毒跃迁一样强大的 SillyTavern 智能对话总结插件，专为提升长期对话体验而设计。

## ✨ 主要特性

### 🤖 智能自动总结（并非智能）
- **自动检测**：智能监测对话长度，达到阈值时自动触发总结
- **增量处理**：只处理新消息，避免重复总结
- **后台运行**：静默工作，不打断用户对话体验

### 🎨 精美界面设计（并非精美）
- **5种主题**：经典紫魔、深海蓝调、夕阳暖橙、森林绿意、玫瑰粉梦
- **响应式设计**：完美适配桌面和移动设备
- **动画效果**：流畅的过渡动画和视觉反馈

### 📚 智能世界书集成
- **分类存储**：自动将对话内容分类保存到世界书
- **6大类别**：喜好、恐惧、事件、关系、梦境、互动
- **智能去重**：避免重复内容，保持信息整洁

### 🔧 灵活配置选项
- **可调阈值**：自定义触发总结的消息数量（10-100条）
- **检测间隔**：设置自动检测频率（1-60分钟）
- **手动模式**：支持完全手动控制

## 📖 使用说明

### 🎯 快速开始

1. **选择世界书**
   - 进入 `World Info` 页面
   - 选择或创建一个世界书作为存储目标

2. **打开控制台**
   - 点击扩展菜单中的 `👻 对鬼面发出决斗邀请`

3. **配置设置**
   - 调整消息阈值（建议30-50条）
   - 选择检测间隔（建议5-10分钟）
   - 选择喜欢的主题风格

### 🔧 详细功能说明

#### 主要操作按钮

| 按钮 | 功能 | 说明 |
|------|------|------|
| 🐱 **手动总结** | 立即执行总结 | 不受阈值限制，随时可用 |
| 🐕 **自动开启/关闭** | 切换自动模式 | 绿色=开启，红色=关闭 |
| 🔄 **重置标记** | 开发者按钮，请不要按
| ⚙️ **设置菜单** | 展开/收起设置 | 调整各种参数 |

#### 设置选项详解

**🎨 主题配色**
- **经典紫魔**：神秘深邃的紫色主题（默认）
- **深海蓝调**：宁静深沉的蓝色主题
- **夕阳暖橙**：温暖明亮的橙色主题
- **森林绿意**：自然清新的绿色主题
- **玫瑰粉梦**：浪漫温柔的粉色主题

**⚙️ 触发设置**
- **消息阈值**：触发自动总结的新消息数量
  - 范围：10-100条
  - 建议：30-50条（平衡效率和完整性）
- **检测间隔**：自动检测的时间间隔
  - 范围：1-60分钟
  - 建议：5-10分钟（避免过于频繁）

#### 状态信息面板

实时显示当前运行状态：
- **📊 消息数**：当前对话的总消息数
- **🎯 阈值**：设定的触发阈值
- **⚡ 状态**：自动尾随中/手动模式

#### 📋 行程日志

显示详细的操作记录：
- 所有总结操作的时间戳
- 成功/失败状态
- 错误信息和调试信息
- 支持清空日志功能

### 🎭 总结分类系统

插件会自动将对话内容分类到以下6个类别：

| 类别 | 说明 | 关键词示例 |
|------|------|------------|
| **喜好** | 角色的喜欢、偏好、爱好 | 喜欢、偏好、爱好 |
| **恐惧** | 角色的害怕、讨厌的事物 | 害怕、恐惧、讨厌 |
| **事件** | 重要的经历和回忆 | 发生、事件、经历 |
| **关系** | 人际关系和社交网络 | 朋友、家人、关系 |
| **梦境** | 梦境、幻想和想象 | 梦见、梦境、幻想 |
| **互动** | 角色间的独特互动方式 | 互动、交流、对话 |

### 💡 使用技巧

#### 🎯 最佳实践
1. **合理设置阈值**：根据对话频率调整，避免过于频繁或稀少
2. **定期检查世界书**：确认总结内容的准确性和完整性
3. **主题个性化**：选择符合角色设定的主题风格
4. **日志监控**：关注日志信息，及时发现问题

#### ⚠️ 注意事项
- 确保选择了有效的世界书
- 避免在生成过程中频繁操作
- 重置标记前请谨慎考虑
- 移动设备上建议使用较小的检测间隔

#### 🐛 故障排除

**总结失败**
- 检查是否选择了世界书
- 确认网络连接稳定
- 检查API配置是否正确

**界面异常**
- 尝试刷新页面
- 清除浏览器缓存
- 检查插件文件完整性

**性能问题**
- 适当增加检测间隔
- 清理过多的日志记录
- 关闭不必要的其他扩展

## 🔄未来更新（先画大饼）
- 总结后自动隐藏消息（其实我今天搞了三个小时就是因为这个，好崩溃不想写了）
